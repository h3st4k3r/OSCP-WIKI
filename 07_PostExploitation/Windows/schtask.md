`schtasks` permite crear, listar, modificar y eliminar tareas programadas. Es una de las técnicas clásicas de persistencia y ejecución automática tras reinicio.

---

## 1. Ver todas las tareas
```cmd
schtasks /query /fo LIST /v
```
- `/fo LIST`: formato de salida legible
- `/v`: vista detallada (ruta, usuario, ejecutable, estado)

Filtrar tareas con ejecutables sospechosos:
```cmd
schtasks /query /fo LIST /v | findstr /i "cmd.exe powershell.exe .ps1 .bat"
```

---

## 2. Ver tarea específica
```cmd
schtasks /query /TN "\Microsoft\Windows\UpdateOrchestrator\Maintenance"
```

---

## 3. Crear tarea para persistencia
```cmd
schtasks /create /sc onlogon /tn "MyTask" /tr "powershell.exe -w hidden -enc <base64>" /ru SYSTEM
```
- `/sc onlogon`: al iniciar sesión
- `/tn`: nombre de la tarea
- `/tr`: comando a ejecutar
- `/ru SYSTEM`: ejecutar como SYSTEM

---

## 4. Eliminar tarea
```cmd
schtasks /delete /TN "MyTask" /f
```

---

## 5. Uso OSCP-style
- Revisar tareas para encontrar persistencia
- Crear tareas para ejecución tras reinicio
- Inyectar payloads a través de scripts (.vbs, .bat, .ps1)
- Usar tareas para escalar privilegios si el contexto lo permite

---
