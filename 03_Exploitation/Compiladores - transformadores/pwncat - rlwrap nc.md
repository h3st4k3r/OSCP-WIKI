Durante la explotación en OSCP, una shell inversa básica puede ser limitada (sin historial, sin autocompletado, sin CTRL+C...). Herramientas como `pwncat` o `rlwrap nc` permiten mejorar drásticamente la experiencia de shell.

---

## 1. Uso de rlwrap con netcat (nc)

`rlwrap` agrega historial de comandos y edición de línea a shells obtenidas por `nc`.

### Instalación
```bash
sudo apt install rlwrap
```

### Ejemplo con reverse shell:
```bash
rlwrap nc -lvnp 4444
```

Usa esto en lugar de `nc -lvnp` y tendrás:
- Historial con flechas ↑ ↓
- Edición de línea

---

## 2. Uso de pwncat

`pwncat` es una herramienta más completa para post-explotación. Mejora shells y permite autoescalado de privilegios, carga de scripts, recon, y más.

### Instalación
```bash
pip install pwncat-cs
```

### Escucha de shell:
```bash
pwncat -lp 4444
```

Cuando recibes la shell, `pwncat`:
- Detecta el tipo de TTY
- Intenta estabilizar automáticamente
- Carga funciones útiles (`upload`, `run`, `privesc`, etc.)

---

## Comandos útiles en sesión pwncat

```bash
help            # Ver comandos
upload file     # Subir archivo
privesc         # Lanzar detección de privesc
run script.sh   # Ejecutar script local
exit            # Salir y guardar sesión
```

---

## Casos de Uso OSCP

- Estabilizar shells inseguras tras explotación
- Automatizar tareas post-explotación
- Historial persistente en shells con rlwrap

---

## Buenas Prácticas

- Siempre que uses `nc`, añade `rlwrap` si es una shell interactiva
- Usa `script /dev/null -c bash` en la víctima para un TTY más estable
- Considera usar `pwncat` como alternativa si necesitas recon/privesc en una sola herramienta

---
